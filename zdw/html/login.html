<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/login.css">
    <script src="../js/public.js"></script>
    <script src="../../js/jquery-3.3.1.js"></script>
</head>
<body>
    <div class="logo">
        <a href="#">
            <img src="../img/images/logo.jpg" alt="">
        </a>
    </div>
    <div class="zhuce_top">
        <a href="#">手机注册</a>
    </div>
    <div class="zhuce_box">
    <form action="#" method="GET">
        <div class="zhuce_left">
            <h1>第一步：填写手机账户信息(以下内容必填)</h1>
            <div class="user">用户名:</div>
            <div class="user1">
                    <input id="yhm" type="text" name="asdf"  autofocus onfocus=autoFocus(yhm) onblur=autoBlurs(yhm,yhmReg)> 
                    <span>提示：请输入4-20个字符，一个汉字为两个字符，推荐使用中文会员名字。一旦注册成功，会员名将不能修改.</span>
                    <p></p>
            </div>
<!-- -------------我是分割线 ------------------------>
            <div class="user">手机号码:</div>
            <div class="user1">
                    <input id="sjh" type="text" name="asdf"   onfocus=autoFocus(sjh) onblur=autoBlurs(sjh,sjhReg)> 
                    <span>请输入您的手机号.</span>
                    <p></p>
            </div>
<!-- -------------我是分割线 ------------------------>
            <div class="user hd">登录密码:</div>
            <div class="user1 hd">
                <input id="mm" type="password" name="asdf"   onfocus=autoFocus(mm) onblur=autoBlurs(mm,mmReg)> 
                <span>6-16个字符，请使用字母加数字或下划线的组合密码。</span>
                <p></p>
            </div>
<!-- -------------我是分割线 ------------------------>
            <div class="user hd">确认密码:</div>
            <div class="user1 hd">
                <input id="qrmm" type="password" name="asdf"   onfocus=autoFocus(qrmm) onblur=autoBlurs(qrmm)> 
                <span>请再次输入密码。</span>
                <p></p>
            </div>
<!-- -------------我是分割线 ------------------------>
            <div class="user hd">激活码:</div>
            <div class="user1 hd">
                <input id="jhm" type="text" name="asdf"   onfocus=autoFocus(jhm) onblur=autoBlurs(jhm)> 
                <span>请输入您的激活码。</span>
                <p></p>
            </div>
<!-- -------------我是分割线 ------------------------>
            <div class="user hd">邀请人号码:</div>
            <div class="user1 hd">
                    <input id="yqr" type="text" name="asdf"   onfocus=autoFocus(sjh) onblur=autoBlurs(sjh,sjhReg)> 
                    <span>请输入邀请人账号绑定的手机号码。</span>
                    <p></p>
            </div>
<!-- -------------我是分割线 ------------------------>
            <div class="verify hd2">验证码:</div>
            <div class="verifyNum hd2">
                <input id="yzm" type="text" onfocus=autoFocus(yzm) onblur=autoBlurs(yzm)>
                <div class="vf">
                    123456
                </div>
                <p></p>
                <a onclick=fn()>换一张</a>
            </div>
<!-- -------------我是分割线 ------------------------>
            <button id="fsbtn">发送激活码</button>
        </div>
    </form>
    <div class="zhuce_right">
        <h1>邦购网欢迎您</h1>
        <p>Lemon (《Unnatural》日剧主题曲) - 米津玄師 (よねづ けんし)Lemon (《Unnatural》日剧主题曲) - 米津玄師 (よねづ けんし)<br>
词：米津玄師<br>
曲：米津玄師<br>
夢ならば<br>如果只是一场梦<br>
どれほどよかったでしょう<br>那该有多好<br>
未だにあなたのことを夢にみる<br>你依旧出现在我梦中<br>
忘れた物を取りに帰るように<br>就像取回遗忘的东西一样<br>
古びた思い出の埃を払う<br>把陈旧回忆上的灰尘拂去<br>
戻らない幸せがあることを<br>有些幸福再也无法重来<br>
最後にあなたが教えてくれた<br>这是最后你告诉我的<br>
言えずに隠してた昏い過去も<br>藏在心里的黑暗过去<br>
あなたがいなきゃ<br>没有了你<br>
永遠に昏いまま<br>也会永远黑暗<br>
きっともうこれ以上 <br>我明白<br>
傷つくことなど <br>不会再有比这<br>
ありはしないとわかっている<br>更让人受伤的事了<br>
あの日の悲しみさえ<br> 连那一天的悲伤<br>
あの日の苦しみさえ <br>连那一天的痛苦<br>
そのすべてを愛してた <br>那一切我都深爱着<br>
あなたとともに <br>连同你一起<br>
胸に残り離れない<br> 留在我心间 挥之不去<br>
苦いレモンの匂い <br>苦涩的柠檬香<br>
雨が降り止むまでは帰れない <br>直到大雨停下为止都不会归去<br>
今でもあなたはわたしの光<br> 时至今日你依旧是我的光<br>
暗闇であなたの背をなぞった<br>
その輪郭を鮮明に覚えている<br>
受け止めきれないものと<br>
出会うたび<br>
溢れてやまないのは涙だけ<br>
何をしていたの<br>
何を見ていたの<br>
わたしの知らない横顔で<br>
どこかであなたが今<br>
わたしと同じ様な<br>
涙にくれ<br>
淋しさの中にいるなら<br>
わたしのことなどどうか<br>
忘れてください<br>
そんなことを心から願うほどに<br>
今でもあなたはわたしの光<br>
自分が思うより<br>
恋をしていたあなたに<br>
あれから思うように<br>
息ができない<br>
あんなに側にいたのに<br>
まるで嘘みたい<br>
とても忘れられない<br>
それだけが確か<br>
胸に残り離れない<br>
苦いレモンの匂い<br>
雨が降り止むまでは帰れない<br>
切り分けた果実の片方の様に<br>
今でもあなたはわたしの光<br>             
                </p>
    </div>
    </div>
    <script>
        var vf = document.getElementsByClassName("vf");
        var yhm = document.getElementById("yhm");
        var sjh = document.getElementById("sjh");
        var yzm = document.getElementById("yzm");
        var fsbtn = document.getElementById("fsbtn");
        var hd = document.getElementsByClassName("hd");
        var hd2 = document.getElementsByClassName("hd2");
        var mm = document.getElementById("mm");
        var qrmm = document.getElementById("qrmm");
        var jhm = document.getElementById("jhm");
        var yhmReg = /^([\u4e00-\u9fa5]|[a-zA-Z])(\w|[\u4e00-\u9fa5]){1,19}$/;
        var sjhReg = /^[^0][\d]{10}$/;
        var mmReg = /^\w{6,18}$/;
        var yhmFlag = false;
        var sjhFlag = false;
        var yzmFlag = false;
        var mmFlag = true;
        var qrmmFlag = true;
        var jhmFlag = true;
        function fn(){/*给验证码盒子的文本内容添加随机验证码*/
            vf[0].innerText = captcha(4);
        };
        fn();
        function autoFocus(item){
            var items = item.parentNode.children;
            items[2].style.display = "none";
        };
        function autoBlurs(item,reg){
            var items = item.parentNode.children;
            items[2].style.display = "block";
            if(item.value == ""){
                yhmFlag = false;
                sjhFlag = false;
                yzmFlag = false;
                return items[2].innerText = "内容不能为空";
            }
            if(item == yhm){
                if(reg.test(yhm.value)){    
                    $.get("../php/yhm.php",{"yhm":$("#yhm").val()},function(data){
                        if(data.flag){
                            yhmFlag = true;
                        }else{
                            yhmFlag = false;
                        };
                        return items[2].innerText = data.switch;
                    },"json")
                    items[2].style.color = "green";
                    return items[2].innerText = "用户名可用";
                }else{
                    yhmFlag = false;
                    items[2].style.color = "red";
                    return items[2].innerText = "以中、英文开头，与数字、下划线组成";
                }
            }else if(item == sjh){
                if(reg.test(sjh.value)){
                    sjhFlag = true;
                    items[2].style.color = "green";
                    return items[2].innerText = "手机号码可用";
                }else{
                    sjhFlag = false;
                    items[2].style.color = "red";
                    return items[2].innerText = "手机号码不合法";
                }
            }else if(item == yzm){
                if(yzm.value == vf[0].innerText){
                    yzmFlag = true;
                    items[2].style.color = "green";
                    return items[2].innerText = "验证码正确";
                }else{
                    yzmFlag = false;
                    items[2].style.color = "red";
                    return items[2].innerText = "验证码错误，请重新输入";
                };
            }else if(item == mm){
                if(reg.test(mm.value)){
                    mmFlag = false;
                    items[2].style.color = "green";
                    return items[2].innerText = "密码正确";
                }else{
                    mmFlag = true;
                    items[2].style.color = "red";
                    return items[2].innerText = "密码格式错误";
                };
            }else if(item == qrmm){
                if(mm.value == qrmm.value){
                    qrmmFlag = false;
                    items[2].style.color = "green";
                    return items[2].innerText = "密码一致";
                }else{
                    qrmmFlag = true;
                    items[2].style.color = "red";
                    return items[2].innerText = "密码不一致";
                }
            }       
        };
        fsbtn.onclick = function(){
            if(yhmFlag & sjhFlag & yzmFlag){
                for(var i=0,len=hd.length;i < len;i ++){
                    hd[i].style.display = "block";
                };
                hd2[0].style.display = "none";
                hd2[1].style.display = "none";

            };
            return false;
        };
    </script>
</body>
</html>